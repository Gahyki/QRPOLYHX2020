<html>
    <head>
        <title>Student QR</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
        <script type="text/javascript" src="davidshimjs-qrcodejs-04f46c6/jquery.min.js"></script>
        <script type="text/javascript" src="davidshimjs-qrcodejs-04f46c6/qrcode.js"></script>
        <script type="text/javascript" src="qart.js-master/dist/qart.min.js"></script>
        <link rel="stylesheet" href="app.css"/> 
    </head>
    <body>
        <!-- Vertical Menu -->
        <div class="vertical-menu">
            <a href="#" class="active">Home</a>
            <a href="#">Scan</a>
            <a href="#">My Profile</a>
            <a href="https://my.concordia.ca/psp/upprpr9/?cmd=login&languageCd=ENG&">MyConcordia</a>
        </div>
        <!-- Horizontal Bar -->
        <div class="navbar">
            <a href="#" class="c1" id="active" value="Jason Kim, 40097242" onclick="accessclick()">Access</a>
            <a href="#" class="c2" value="ganghyun.kim@mail.concordia.ca" onclick="emailclick()">Email</a>
            <a href="#" class="c3" value="https://ibb.co/mG0ytwQ" onclick="scheduleclick()">Schedule</a>
        </div>
        <script>
            function accessclick(){
                var activebtn = document.getElementById("active").innerText
                if(activebtn != "Access"){
                    //Remove active status
                    $("#active").removeAttr("id");
                    //Add active status
                    $(".c1").attr("id", "active");
                    //QR regenerate
                    makeCode();
                    $("#active").
                        on("blur", function () {
                            makeCode();
                        }).
                        on("keydown", function (e) {
                            if (e.keyCode == 13) {
                                makeCode();
                            }
                        });
                }

            }
            function emailclick(){
                var activebtn = document.getElementById("active").innerText
                if(activebtn != "Email"){
                    //Remove active status
                    $("#active").removeAttr("id");
                    //Add active status
                    $(".c2").attr("id", "active");
                    //QR regenerate
                    makeCode();
                    $("#active").
                        on("blur", function () {
                            makeCode();
                        }).
                        on("keydown", function (e) {
                            if (e.keyCode == 13) {
                                makeCode();
                            }
                        });
                }

            }
            function scheduleclick(){
                var activebtn = document.getElementById("active").innerText
                if(activebtn != "Schedule"){
                    //Remove active status
                    $("#active").removeAttr("id");
                    //Add active status
                    $(".c3").attr("id", "active");
                    //QR regenerate
                    makeCode();
                    $("#active").
                        on("blur", function () {
                            makeCode();
                        }).
                        on("keydown", function (e) {
                            if (e.keyCode == 13) {
                                makeCode();
                            }
                        });
                }

            }
        </script>
        <!-- QR Code -->
        <div id="qrcode"></div>

        <script type="text/javascript">
        var qrcode = new QRCode(document.getElementById("qrcode"), {
            width : 300,
            height : 300
        });

        function makeCode () {		
            var elText = document.getElementById("active");
            
            qrcode.makeCode(elText.getAttribute("value"));
        }

        makeCode();

        $("#active").
            on("blur", function () {
                makeCode();
            }).
            on("keydown", function (e) {
                if (e.keyCode == 13) {
                    makeCode();
                }
            });
        </script>
    </body>
</html>